"use strict";(()=>{var e={};e.id=569,e.ids=[569],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},8130:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>A,originalPathname:()=>m,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>P,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>_});var o={};s.r(o),s.d(o,{POST:()=>POST});var t=s(884),a=s(6132),n=s(5798),i=s(2421),l=s.n(i),u=s(2294),c=s(1336);async function POST(e){console.log("Registration API called");try{console.log("Connecting to database..."),await (0,u.Z)(),console.log("Database connected");let r=await e.json();console.log("Request body:",r);let{name:s,email:o,password:t}=r;if(!s||!o||!t)return console.log("Validation failed: Missing fields"),n.Z.json({error:"Name, email, and password are required"},{status:400});console.log("Checking for existing user...");let a=await c.n.findOne({email:o});if(a)return console.log("User already exists"),n.Z.json({error:"User already exists"},{status:400});console.log("Hashing password...");let i=await l().hash(t,12);console.log("Password hashed"),console.log("Creating user...");let d=await c.n.create({name:s,email:o,password:i});return console.log("User created successfully:",d),n.Z.json({message:"User created successfully",userId:d._id},{status:201})}catch(e){return console.error("Registration error:",e),n.Z.json({error:"Internal server error: "+e.message},{status:500})}}let d=new t.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/register/route",pathname:"/api/register",filename:"route",bundlePath:"app/api/register/route"},resolvedPagePath:"C:\\Users\\Abishek\\Downloads\\Task Management App\\task-management-app\\app\\api\\register\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:p,serverHooks:P,headerHooks:A,staticGenerationBailout:_}=d,m="/api/register/route"},6132:(e,r)=>{var s;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[802,107,886],()=>__webpack_exec__(8130));module.exports=s})();