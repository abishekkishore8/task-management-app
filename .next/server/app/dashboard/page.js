(()=>{var e={};e.id=702,e.ids=[702],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},5175:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>x,tree:()=>l});var a=s(7096),n=s(6132),r=s(7284),o=s.n(r),i=s(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,779)),"C:\\Users\\Abishek\\Downloads\\Task Management App\\task-management-app\\app\\dashboard\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9454)),"C:\\Users\\Abishek\\Downloads\\Task Management App\\task-management-app\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\Abishek\\Downloads\\Task Management App\\task-management-app\\app\\dashboard\\page.js"],c="/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2235:(e,t,s)=>{Promise.resolve().then(s.bind(s,1485))},1485:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Dashboard});var a=s(784),n=s(9885),r=s(4284),o=s(7114),i=s(1440),d=s.n(i);function Dashboard(){let{data:e,status:t}=(0,r.useSession)(),s=(0,o.useRouter)(),[i,l]=(0,n.useState)([]),[p,c]=(0,n.useState)(!0),[u,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[m,k]=(0,n.useState)(""),[b,j]=(0,n.useState)("all"),[f,v]=(0,n.useState)(1),[y,_]=(0,n.useState)(1),[w,C]=(0,n.useState)(!1),handleLogout=async()=>{C(!0),await (0,r.signOut)({redirect:!1}),s.push("/"),s.refresh()};(0,n.useEffect)(()=>{"unauthenticated"===t&&s.push("/login")},[t,s]),(0,n.useEffect)(()=>{e&&fetchTasks()},[e,m,b,f]);let fetchTasks=async()=>{try{let e=new URLSearchParams;m&&e.append("search",m),"all"!==b&&e.append("status",b),e.append("page",f),e.append("limit","5");let t=await fetch(`/api/tasks?${e}`);if(t.ok){let e=await t.json();l(e.tasks||[]),_(e.pagination.pages)}else{let e=await t.json();x(e.error||"Failed to fetch tasks")}}catch(e){console.error("Error fetching tasks:",e),x("Network error. Please try again.")}finally{c(!1)}},handleDelete=async e=>{if(confirm("Are you sure you want to delete this task?"))try{let t=await fetch(`/api/tasks/${e}`,{method:"DELETE"});t.ok&&(l(i.filter(t=>t._id!==e)),g("Task deleted successfully"),setTimeout(()=>g(""),3e3))}catch(e){console.error("Error deleting task:",e)}},toggleTaskStatus=async(e,t)=>{try{let s=await fetch(`/api/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"done"===t?"pending":"done"})});s.ok&&l(i.map(t=>t._id===e?{...t,status:"done"===t.status?"pending":"done"}:t))}catch(e){console.error("Error updating task status:",e)}};return"loading"===t||p?a.jsx("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"nav",children:[a.jsx("h1",{children:"Your Tasks"}),(0,a.jsxs)("div",{className:"nav-actions",children:[(0,a.jsxs)(d(),{href:"/tasks/new",className:"btn btn-primary add-task-btn btn-ripple",children:[a.jsx("svg",{className:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Task"]}),a.jsx("button",{onClick:handleLogout,className:`btn logout-btn btn-ripple ${w?"btn-loading":""}`,disabled:w,children:!w&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("svg",{className:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]}),u&&a.jsx("div",{className:"error-message",children:u}),h&&a.jsx("div",{style:{color:"green",padding:"10px",backgroundColor:"#d1fae5",borderRadius:"5px",marginBottom:"20px"},children:h}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[a.jsx("input",{type:"text",placeholder:"Search tasks...",value:m,onChange:e=>k(e.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px",flex:1}}),(0,a.jsxs)("select",{value:b,onChange:e=>j(e.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"done",children:"Done"})]})]}),0===i.length?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx("p",{children:"No tasks yet. Create your first task!"})}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:i.map(e=>a.jsx("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"5px",backgroundColor:"#fff"},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{style:{margin:"0 0 10px 0"},children:e.title}),a.jsx("p",{style:{margin:"0 0 10px 0",color:"#666"},children:e.description}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[a.jsx("span",{onClick:()=>toggleTaskStatus(e._id,e.status),style:{cursor:"pointer",marginRight:"10px"},children:"done"===e.status?"✓":"○"}),a.jsx("span",{style:{padding:"5px 10px",borderRadius:"15px",fontSize:"12px",backgroundColor:"done"===e.status?"#d1fae5":"#fef3c7",color:"done"===e.status?"#065f46":"#92400e"},children:e.status}),a.jsx("span",{style:{fontSize:"12px",color:"#999"},children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"task-actions",children:[(0,a.jsxs)(d(),{href:`/tasks/edit/${e._id}`,className:"task-action-btn task-action-edit btn-ripple",children:[a.jsx("svg",{className:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>handleDelete(e._id),className:"task-action-btn task-action-delete btn-ripple",children:[a.jsx("svg",{className:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})},e._id))}),y>1&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px",gap:"10px"},children:[a.jsx("button",{onClick:()=>v(e=>Math.max(e-1,1)),disabled:1===f,style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",cursor:1===f?"not-allowed":"pointer"},children:"Previous"}),(0,a.jsxs)("span",{style:{padding:"8px"},children:["Page ",f," of ",y]}),a.jsx("button",{onClick:()=>v(e=>Math.min(e+1,y)),disabled:f===y,style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",cursor:f===y?"not-allowed":"pointer"},children:"Next"})]})]})}},779:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>d});var a=s(5153);let n=(0,a.createProxy)(String.raw`C:\Users\Abishek\Downloads\Task Management App\task-management-app\app\dashboard\page.js`),{__esModule:r,$$typeof:o}=n,i=n.default,d=i},1440:(e,t,s)=>{e.exports=s(614)},7114:(e,t,s)=>{e.exports=s(4979)}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[657,29,614,471],()=>__webpack_exec__(5175));module.exports=s})();