exports.id=565,exports.ids=[565],exports.modules={9294:(e,r,t)=>{Promise.resolve().then(t.bind(t,1202))},1202:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>AuthForm});var i=t(784),s=t(9885),a=t(7114),d=t(4284);function AuthForm({mode:e}){let[r,t]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),n=(0,a.useRouter)(),handleSubmit=async r=>{r.preventDefault(),t(!0),l("");let i=new FormData(r.target),s=Object.fromEntries(i);if("register"===e)try{let e=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)n.push("/login"),n.refresh();else try{let r=await e.json();l(r.error||"Registration failed")}catch(e){l("Registration failed. Please try again.")}}catch(e){console.error("Registration error:",e),l("Network error. Please try again.")}finally{t(!1)}else{let e=await (0,d.signIn)("credentials",{email:s.email,password:s.password,redirect:!1});e.error?(l(e.error),t(!1)):n.push("/dashboard")}};return(0,i.jsxs)("form",{onSubmit:handleSubmit,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[o&&i.jsx("div",{style:{color:"red",padding:"0.5rem",backgroundColor:"#fee2e2",borderRadius:"0.375rem"},children:o}),"register"===e&&(0,i.jsxs)("div",{children:[i.jsx("label",{htmlFor:"name",style:{display:"block",marginBottom:"0.5rem"},children:"Name"}),i.jsx("input",{type:"text",id:"name",name:"name",required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem"}})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem"},children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem"}})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem"},children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem"}})]}),i.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary btn-ripple add-task-btn",style:{width:"100%",marginTop:"1rem",background:r?"#9ca3af":"",cursor:r?"not-allowed":"pointer"},children:r?"Loading...":"register"===e?"Register":"Login"})]})}},4639:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l});var i=t(5153);let s=(0,i.createProxy)(String.raw`C:\Users\Abishek\Downloads\Task Management App\task-management-app\components\AuthForm.js`),{__esModule:a,$$typeof:d}=s,o=s.default,l=o},7114:(e,r,t)=>{e.exports=t(4979)}};